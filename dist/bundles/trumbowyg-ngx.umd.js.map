{"version":3,"file":"trumbowyg-ngx.umd.js","sources":["~/trumbowyg-ngx/src/app/trumbowyg-ngx/trumbowyg-ngx.module.ts","~/trumbowyg-ngx/src/app/trumbowyg-ngx/editor/editor.component.ts"],"sourcesContent":["import {ModuleWithProviders, NgModule} from '@angular/core';\nimport {\n    EditorComponent,\n    TRUMBOWYG_OPTIONS,\n    TrumbowygOptions\n} from './editor/editor.component';\nexport class TrumbowygNgxModule {\n/**\n * @param {?} options\n * @return {?}\n */\nstatic withConfig(options: TrumbowygOptions): ModuleWithProviders {\n        return {\n            ngModule: TrumbowygNgxModule,\n            providers: [\n                {provide: TRUMBOWYG_OPTIONS, useValue: options}\n            ]\n        };\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    declarations: [\n        EditorComponent\n    ],\n    exports: [\n        EditorComponent\n    ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction TrumbowygNgxModule_tsickle_Closure_declarations() {\n/** @type {?} */\nTrumbowygNgxModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTrumbowygNgxModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n    AfterViewInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    Inject,\n    InjectionToken,\n    Input,\n    OnDestroy,\n    OnInit,\n    Optional,\n    Self,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport {ControlValueAccessor, NgControl} from '@angular/forms';\n\ndeclare var $: any;\n\nexport interface TrumbowygOptions {\n    prefix?: string;\n    lang?: string;\n    svgPath?: string | boolean;\n    hideButtonTexts?: boolean;\n    btns?: Array<string[]>;\n    semantic?: boolean;\n    resetCss?: boolean;\n    removeformatPasted?: boolean;\n    autogrow?: boolean;\n    autogrowOnEnter?: boolean;\n}\n\nexport const /** @type {?} */ TRUMBOWYG_OPTIONS = new InjectionToken<TrumbowygOptions>('Trumbowyg options');\nexport class EditorComponent implements ControlValueAccessor, OnInit, AfterViewInit, OnDestroy {\n\n    \n    options: TrumbowygOptions | null;\n\n    \n    placeholder: string | null;\nprivate _editor: ElementRef;\nprivate _disabled: boolean;\nprivate _initValue: string;\nprivate propagateChange = (_: any) => {\n    }\nprivate propagateTouched = () => {\n    }\n/**\n * @param {?} _changeDetection\n * @param {?} _config\n * @param {?} editorControl\n */\nconstructor(private _changeDetection: ChangeDetectorRef,\nprivate _config: TrumbowygOptions,\npublic editorControl: NgControl) {\n        editorControl.valueAccessor = this;\n    }\n/**\n * @return {?}\n */\nngOnInit(): void {\n        const /** @type {?} */ control = this.editorControl.control;\n        control.setValidators(control.validator);\n        control.updateValueAndValidity();\n    }\n/**\n * @return {?}\n */\nngAfterViewInit(): void {\n        $(this._editor.nativeElement).trumbowyg(\n            Object.assign({}, this._config, this.options)\n        ).on('tbwinit', () => {\n            $(this._editor.nativeElement).trumbowyg(this._disabled ? 'disable' : 'enable');\n            this.setContent(this._initValue);\n        }).on('tbwchange', () => {\n            this.propagateChange(this.getContent());\n            this._changeDetection.detectChanges();\n        }).on('tbwblur', () => {\n            this.propagateTouched();\n            this._changeDetection.detectChanges();\n        });\n    }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnChange(fn: () => void): void {\n        this.propagateChange = fn;\n    }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnTouched(fn: () => void): void {\n        this.propagateTouched = fn;\n    }\n/**\n * @param {?} value\n * @return {?}\n */\nwriteValue(value: any): void {\n        this._initValue = value;\n    }\n/**\n * @param {?} disabled\n * @return {?}\n */\nsetDisabledState(disabled: boolean): void {\n        this._disabled = disabled;\n    }\n/**\n * @return {?}\n */\nngOnDestroy(): void {\n        $(this._editor.nativeElement).trumbowyg('destroy');\n    }\n/**\n * @param {?} content\n * @return {?}\n */\nprivate setContent(content: string): void {\n        $(this._editor.nativeElement).trumbowyg('html', content);\n    }\n/**\n * @return {?}\n */\nprivate getContent(): string {\n        return $(this._editor.nativeElement).trumbowyg('html');\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'trumbowyg-ngx-editor',\n    template: `\n      <textarea #editor [placeholder]=\"placeholder ? placeholder : ''\"></textarea>\n    `,\n    styles: [`\n\n    `],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ChangeDetectorRef, },\n{type: undefined, decorators: [{ type: Inject, args: [TRUMBOWYG_OPTIONS, ] }, { type: Optional }, ]},\n{type: NgControl, decorators: [{ type: Self }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'options': [{ type: Input },],\n'placeholder': [{ type: Input },],\n'_editor': [{ type: ViewChild, args: ['editor', ] },],\n};\n}\n\nfunction EditorComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nEditorComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nEditorComponent.ctorParameters;\n/** @type {?} */\nEditorComponent.propDecorators;\n/** @type {?} */\nEditorComponent.prototype.options;\n/** @type {?} */\nEditorComponent.prototype.placeholder;\n/** @type {?} */\nEditorComponent.prototype._editor;\n/** @type {?} */\nEditorComponent.prototype._disabled;\n/** @type {?} */\nEditorComponent.prototype._initValue;\n/** @type {?} */\nEditorComponent.prototype.propagateChange;\n/** @type {?} */\nEditorComponent.prototype.propagateTouched;\n/** @type {?} */\nEditorComponent.prototype._changeDetection;\n/** @type {?} */\nEditorComponent.prototype._config;\n/** @type {?} */\nEditorComponent.prototype.editorControl;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["NgModule","ViewChild","Input","NgControl","Self","Inject","Optional","ChangeDetectorRef","ViewEncapsulation","ChangeDetectionStrategy","Component","InjectionToken"],"mappings":"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"}
