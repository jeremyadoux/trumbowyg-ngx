{"version":3,"file":"trumbowyg-ngx.umd.min.js","sources":["~/trumbowyg-ngx/src/app/trumbowyg-ngx/editor/editor.component.ts","~/trumbowyg-ngx/src/app/trumbowyg-ngx/trumbowyg-ngx.module.ts"],"sourcesContent":["import {\n    AfterViewInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    Inject,\n    InjectionToken,\n    Input,\n    OnDestroy,\n    OnInit,\n    Optional,\n    Self,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport {ControlValueAccessor, NgControl} from '@angular/forms';\n\ndeclare var $: any;\n\nexport interface TrumbowygOptions {\n    prefix?: string;\n    lang?: string;\n    svgPath?: string | boolean;\n    hideButtonTexts?: boolean;\n    btns?: Array<string[]>;\n    semantic?: boolean;\n    resetCss?: boolean;\n    removeformatPasted?: boolean;\n    autogrow?: boolean;\n    autogrowOnEnter?: boolean;\n}\n\nexport const /** @type {?} */ TRUMBOWYG_OPTIONS = new InjectionToken<TrumbowygOptions>('Trumbowyg options');\nexport class EditorComponent implements ControlValueAccessor, OnInit, AfterViewInit, OnDestroy {\n\n    \n    options: TrumbowygOptions | null;\n\n    \n    placeholder: string | null;\nprivate _editor: ElementRef;\nprivate _disabled: boolean;\nprivate _initValue: string;\nprivate propagateChange = (_: any) => {\n    }\nprivate propagateTouched = () => {\n    }\n/**\n * @param {?} _changeDetection\n * @param {?} _config\n * @param {?} editorControl\n */\nconstructor(private _changeDetection: ChangeDetectorRef,\nprivate _config: TrumbowygOptions,\npublic editorControl: NgControl) {\n        editorControl.valueAccessor = this;\n    }\n/**\n * @return {?}\n */\nngOnInit(): void {\n        const /** @type {?} */ control = this.editorControl.control;\n        control.setValidators(control.validator);\n        control.updateValueAndValidity();\n    }\n/**\n * @return {?}\n */\nngAfterViewInit(): void {\n        $(this._editor.nativeElement).trumbowyg(\n            Object.assign({}, this._config, this.options)\n        ).on('tbwinit', () => {\n            $(this._editor.nativeElement).trumbowyg(this._disabled ? 'disable' : 'enable');\n            this.setContent(this._initValue);\n        }).on('tbwchange', () => {\n            this.propagateChange(this.getContent());\n            this._changeDetection.detectChanges();\n        }).on('tbwblur', () => {\n            this.propagateTouched();\n            this._changeDetection.detectChanges();\n        });\n    }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnChange(fn: () => void): void {\n        this.propagateChange = fn;\n    }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnTouched(fn: () => void): void {\n        this.propagateTouched = fn;\n    }\n/**\n * @param {?} value\n * @return {?}\n */\nwriteValue(value: any): void {\n        this._initValue = value;\n    }\n/**\n * @param {?} disabled\n * @return {?}\n */\nsetDisabledState(disabled: boolean): void {\n        this._disabled = disabled;\n    }\n/**\n * @return {?}\n */\nngOnDestroy(): void {\n        $(this._editor.nativeElement).trumbowyg('destroy');\n    }\n/**\n * @param {?} content\n * @return {?}\n */\nprivate setContent(content: string): void {\n        $(this._editor.nativeElement).trumbowyg('html', content);\n    }\n/**\n * @return {?}\n */\nprivate getContent(): string {\n        return $(this._editor.nativeElement).trumbowyg('html');\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'trumbowyg-ngx-editor',\n    template: `\n      <textarea #editor [placeholder]=\"placeholder ? placeholder : ''\"></textarea>\n    `,\n    styles: [`\n\n    `],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ChangeDetectorRef, },\n{type: undefined, decorators: [{ type: Inject, args: [TRUMBOWYG_OPTIONS, ] }, { type: Optional }, ]},\n{type: NgControl, decorators: [{ type: Self }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'options': [{ type: Input },],\n'placeholder': [{ type: Input },],\n'_editor': [{ type: ViewChild, args: ['editor', ] },],\n};\n}\n\nfunction EditorComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nEditorComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nEditorComponent.ctorParameters;\n/** @type {?} */\nEditorComponent.propDecorators;\n/** @type {?} */\nEditorComponent.prototype.options;\n/** @type {?} */\nEditorComponent.prototype.placeholder;\n/** @type {?} */\nEditorComponent.prototype._editor;\n/** @type {?} */\nEditorComponent.prototype._disabled;\n/** @type {?} */\nEditorComponent.prototype._initValue;\n/** @type {?} */\nEditorComponent.prototype.propagateChange;\n/** @type {?} */\nEditorComponent.prototype.propagateTouched;\n/** @type {?} */\nEditorComponent.prototype._changeDetection;\n/** @type {?} */\nEditorComponent.prototype._config;\n/** @type {?} */\nEditorComponent.prototype.editorControl;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {ModuleWithProviders, NgModule} from '@angular/core';\nimport {\n    EditorComponent,\n    TRUMBOWYG_OPTIONS,\n    TrumbowygOptions\n} from './editor/editor.component';\nexport class TrumbowygNgxModule {\n/**\n * @param {?} options\n * @return {?}\n */\nstatic withConfig(options: TrumbowygOptions): ModuleWithProviders {\n        return {\n            ngModule: TrumbowygNgxModule,\n            providers: [\n                {provide: TRUMBOWYG_OPTIONS, useValue: options}\n            ]\n        };\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    declarations: [\n        EditorComponent\n    ],\n    exports: [\n        EditorComponent\n    ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction TrumbowygNgxModule_tsickle_Closure_declarations() {\n/** @type {?} */\nTrumbowygNgxModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTrumbowygNgxModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["TRUMBOWYG_OPTIONS","InjectionToken","EditorComponent","_changeDetection","_config","editorControl","this","propagateChange","_","propagateTouched","valueAccessor","prototype","ngOnInit","control","setValidators","validator","updateValueAndValidity","ngAfterViewInit","_this","$","_editor","nativeElement","trumbowyg","Object","assign","options","on","_disabled","setContent","_initValue","getContent","detectChanges","registerOnChange","fn","registerOnTouched","writeValue","value","setDisabledState","disabled","ngOnDestroy","content","decorators","type","Component","args","selector","template","styles","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","ctorParameters","ChangeDetectorRef","undefined","Inject","Optional","NgControl","Self","propDecorators","Input","placeholder","ViewChild","TrumbowygNgxModule","withConfig","ngModule","providers","provide","useValue","NgModule","declarations","exports"],"mappings":"gTAiCO,IAAMA,EAAoB,IAAIC,EAAAA,eAAgC,qBACrEC,EAAA,WAmBA,SAAAA,EAIwBC,EAGAC,EAEDC,GALCC,KAAxBH,iBAAwBA,EAGAG,KAAxBF,QAAwBA,EAEDE,KAAvBD,cAAuBA,EAXXC,KAAZC,gBAA8B,SAAAC,KAGlBF,KAAZG,iBAA+B,aAEvBJ,EAAcK,cAAgBJ,YAKtCJ,EAAAS,UAAAC,SAAA,WACQ,IAKMC,EAAUP,KAAKD,cAAcQ,QAJnCA,EAKQC,cAAcD,EAAQE,WAJ9BF,EAKQG,0BAAhBd,EAAAS,UAAAM,gBAAA,WAAA,IAAAC,EAAAZ,KACQa,EAGEb,KAAKc,QAAQC,eAAeC,UAF1BC,OAGOC,UAAWlB,KAAKF,QAASE,KAAKmB,UACvCC,GAAG,UAAW,WAFZP,EAGED,EAAKE,QAAQC,eAAeC,UAAUJ,EAAKS,UAAY,UAAY,UAFrET,EAGKU,WAAWV,EAAKW,cACtBH,GAAG,YAAa,WAFfR,EAGKX,gBAAgBW,EAAKY,cAF1BZ,EAGKf,iBAAiB4B,kBACvBL,GAAG,UAAW,WAFbR,EAGKT,mBAFLS,EAGKf,iBAAiB4B,mBAIlC7B,EAAAS,UAAAqB,iBAAA,SAAKC,GACG3B,KAAKC,gBAAkB0B,GAM/B/B,EAAAS,UAAAuB,kBAAA,SAHKD,GAIG3B,KAHKG,iBAAmBwB,GAShC/B,EAAAS,UAAAwB,WAAA,SANKC,GAOG9B,KANKuB,WAAaO,GAY1BlC,EAAAS,UAAA0B,iBAAA,SATKC,GAUGhC,KATKqB,UAAYW,GAczBpC,EAAAS,UAAA4B,YAAA,WACQpB,EAXEb,KAAKc,QAAQC,eAAeC,UAAU,YAG3CpB,EAALS,UAAAiB,WAAK,SAAAY,GAeGrB,EAdEb,KAAKc,QAAQC,eAAeC,UAAU,OAAQkB,IAGnDtC,EAALS,UAAAmB,WAAK,WAiBG,OAhBOX,EAAEb,KAAKc,QAAQC,eAAeC,UAAU,WA9EvD,GAgFOpB,EAAPuC,aACEC,KAAMC,EAAAA,UAAWC,OAiBfC,SAhBU,uBAiBVC,SAhBU,+FAmBVC,QAhBQ,YAmBRC,gBAhBiBC,EAAAA,wBAAwBC,OAiBzCC,cAhBeC,EAAAA,kBAAkBC,SAIpCnD,EAADoD,eAAC,WAAA,QAmBAZ,KAAMa,EAAAA,oBACNb,KAAMc,UAAWf,aAAeC,KAAMe,EAAAA,OAAQb,MAAO5C,KAA0B0C,KAAMgB,EAAAA,aACrFhB,KAAMiB,EAAAA,UAAWlB,aAAeC,KAAMkB,EAAAA,UAhBhC1D,EAAP2D,gBAmBApC,UAlBciB,KAAMoB,EAAAA,QAmBpBC,cAlBkBrB,KAAMoB,EAAAA,QAmBxB1C,UAlBcsB,KAAMsB,EAAAA,UAAWpB,MAAM,aClIrC,IAAAqB,EAAA,WAAA,SAAAA,YAIKA,EAALC,WACA,SADKzC,GAEG,OACI0C,SADUF,EAEVG,YACKC,QADSrE,EAAmBsE,SAAU7C,QARvD,GAaOwC,EAAPxB,aACEC,KAAM6B,EAAAA,SAAU3B,OAEd4B,cACItE,GAEJuE,SACIvE,OAIP+D,EAADX,eAAC,WAAA"}
