{"version":3,"file":"trumbowyg-ngx.es5.js","sources":["ts/trumbowyg-ngx.ts","ts/src/app/trumbowyg-ngx/trumbowyg-ngx.module.ts","ts/src/app/trumbowyg-ngx/editor/editor.component.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {TrumbowygNgxModule} from './public_api';\n\nexport {EditorComponent as ɵb,TRUMBOWYG_OPTIONS as ɵa} from './src/app/trumbowyg-ngx/editor/editor.component';","import {ModuleWithProviders, NgModule} from '@angular/core';\nimport {\n    EditorComponent,\n    TRUMBOWYG_OPTIONS,\n    TrumbowygOptions\n} from './editor/editor.component';\nexport class TrumbowygNgxModule {\n/**\n * @param {?} options\n * @return {?}\n */\nstatic withConfig(options: TrumbowygOptions): ModuleWithProviders {\n        return {\n            ngModule: TrumbowygNgxModule,\n            providers: [\n                {provide: TRUMBOWYG_OPTIONS, useValue: options}\n            ]\n        };\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    declarations: [\n        EditorComponent\n    ],\n    exports: [\n        EditorComponent\n    ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction TrumbowygNgxModule_tsickle_Closure_declarations() {\n/** @type {?} */\nTrumbowygNgxModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTrumbowygNgxModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n    AfterViewInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    Inject,\n    InjectionToken,\n    Input,\n    OnDestroy,\n    OnInit,\n    Optional,\n    Self,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport {ControlValueAccessor, NgControl} from '@angular/forms';\n\ndeclare var $: any;\n\nexport interface TrumbowygOptions {\n    prefix?: string;\n    lang?: string;\n    svgPath?: string | boolean;\n    hideButtonTexts?: boolean;\n    btns?: Array<string[]>;\n    semantic?: boolean;\n    resetCss?: boolean;\n    removeformatPasted?: boolean;\n    autogrow?: boolean;\n    autogrowOnEnter?: boolean;\n}\n\nexport const /** @type {?} */ TRUMBOWYG_OPTIONS = new InjectionToken<TrumbowygOptions>('Trumbowyg options');\nexport class EditorComponent implements ControlValueAccessor, OnInit, AfterViewInit, OnDestroy {\n\n    \n    options: TrumbowygOptions | null;\n\n    \n    placeholder: string | null;\nprivate _editor: ElementRef;\nprivate _disabled: boolean;\nprivate _initValue: string;\nprivate propagateChange = (_: any) => {\n    }\nprivate propagateTouched = () => {\n    }\n/**\n * @param {?} _changeDetection\n * @param {?} _config\n * @param {?} editorControl\n */\nconstructor(private _changeDetection: ChangeDetectorRef,\nprivate _config: TrumbowygOptions,\npublic editorControl: NgControl) {\n        editorControl.valueAccessor = this;\n    }\n/**\n * @return {?}\n */\nngOnInit(): void {\n        const /** @type {?} */ control = this.editorControl.control;\n        control.setValidators(control.validator);\n        control.updateValueAndValidity();\n    }\n/**\n * @return {?}\n */\nngAfterViewInit(): void {\n        $(this._editor.nativeElement).trumbowyg(\n            Object.assign({}, this._config, this.options)\n        ).on('tbwinit', () => {\n            $(this._editor.nativeElement).trumbowyg(this._disabled ? 'disable' : 'enable');\n            this.setContent(this._initValue);\n        }).on('tbwchange', () => {\n            this.propagateChange(this.getContent());\n            this._changeDetection.detectChanges();\n        }).on('tbwblur', () => {\n            this.propagateTouched();\n            this._changeDetection.detectChanges();\n        });\n    }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnChange(fn: () => void): void {\n        this.propagateChange = fn;\n    }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnTouched(fn: () => void): void {\n        this.propagateTouched = fn;\n    }\n/**\n * @param {?} value\n * @return {?}\n */\nwriteValue(value: any): void {\n        this._initValue = value;\n    }\n/**\n * @param {?} disabled\n * @return {?}\n */\nsetDisabledState(disabled: boolean): void {\n        this._disabled = disabled;\n    }\n/**\n * @return {?}\n */\nngOnDestroy(): void {\n        $(this._editor.nativeElement).trumbowyg('destroy');\n    }\n/**\n * @param {?} content\n * @return {?}\n */\nprivate setContent(content: string): void {\n        $(this._editor.nativeElement).trumbowyg('html', content);\n    }\n/**\n * @return {?}\n */\nprivate getContent(): string {\n        return $(this._editor.nativeElement).trumbowyg('html');\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n    selector: 'trumbowyg-ngx-editor',\n    template: `\n      <textarea #editor [placeholder]=\"placeholder ? placeholder : ''\"></textarea>\n    `,\n    styles: [`\n\n    `],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ChangeDetectorRef, },\n{type: undefined, decorators: [{ type: Inject, args: [TRUMBOWYG_OPTIONS, ] }, { type: Optional }, ]},\n{type: NgControl, decorators: [{ type: Self }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'options': [{ type: Input },],\n'placeholder': [{ type: Input },],\n'_editor': [{ type: ViewChild, args: ['editor', ] },],\n};\n}\n\nfunction EditorComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nEditorComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nEditorComponent.ctorParameters;\n/** @type {?} */\nEditorComponent.propDecorators;\n/** @type {?} */\nEditorComponent.prototype.options;\n/** @type {?} */\nEditorComponent.prototype.placeholder;\n/** @type {?} */\nEditorComponent.prototype._editor;\n/** @type {?} */\nEditorComponent.prototype._disabled;\n/** @type {?} */\nEditorComponent.prototype._initValue;\n/** @type {?} */\nEditorComponent.prototype.propagateChange;\n/** @type {?} */\nEditorComponent.prototype.propagateTouched;\n/** @type {?} */\nEditorComponent.prototype._changeDetection;\n/** @type {?} */\nEditorComponent.prototype._config;\n/** @type {?} */\nEditorComponent.prototype.editorControl;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":[],"mappings":"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"}
